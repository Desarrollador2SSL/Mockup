<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Cliente - SSL v4.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Archivo CSS del menú separado -->
    <link rel="stylesheet" href="css/menu-styles.css">
    <link rel="stylesheet" href="css/cliente-dashboard-styles.css">

</head>
<body>
    <header class="header">
        <div class="header-left">
            <div class="menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </div>
            <div class="logo">
                <img src="../PagWebLocal/logo_ssl.png" alt="SSL Logo">
                <div class="logo-text">
                    <h1>SSL v4.0</h1>
                    <span class="portal-type">Portal Cliente</span>
                </div>
            </div>
        </div>
        
        <div class="header-right">
            <div class="header-date">
                <i class="fas fa-calendar-alt"></i>
                <span id="currentDate">Cargando...</span>
            </div>

            <!-- BOTÓN DE AYUDA -->
            <div class="help-button-container">
                <a href="cliente_navegacion.html" class="help-button" title="Ayuda y Navegación">
                    <i class="fas fa-question-circle"></i>
                    <span class="help-text">Ayuda</span>
                </a>
            </div>

            <div class="notifications">
                <button class="notifications-button" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                </button>
                <span class="notification-count">8</span>
            </div>
            
            <div class="user-menu" id="userMenu">
                <div class="user-avatar">
                    <span id="userInitial">C</span>
                </div>
                <span class="user-name" id="userName">Empresa Demo S.A.</span>
                <i class="fas fa-chevron-down user-menu-arrow"></i>
                
                <div class="user-dropdown">
                    <div class="dropdown-header">
                        <div class="dropdown-user-info">
                            <div class="dropdown-avatar">
                                <span id="dropdownUserInitial">C</span>
                            </div>
                            <div class="dropdown-user-details">
                                <div class="dropdown-user-name" id="dropdownUserName">Empresa Demo S.A.</div>
                                <div class="dropdown-user-email" id="dropdownUserEmail">cliente@demo.com</div>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item" onclick="goToProfile(event)">
                            <i class="fas fa-user-circle"></i>
                            <span>Mi Perfil</span>
                        </a>
                        <a href="#" class="dropdown-item" onclick="goToSettings(event)">
                            <i class="fas fa-cog"></i>
                            <span>Configuración</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout" onclick="logout(event)">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Cerrar Sesión</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">

        <!-- Dashboard  -->
        <nav class="sidebar" id="sidebar">
            <ul class="menu">
                <!-- Dashboard -->
                <li class="menu-item active">
                    <div class="menu-header active" onclick="toggleSubmenu(this)">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                        <div class="menu-tooltip">Dashboard</div>
                    </div>
                </li>

                <!-- Central de Mensajería -->
                <li class="menu-item">
                    <div class="menu-header" onclick="window.location.href='cliente_mensajeria/cliente_listado_mensajeria.html'">
                        <i class="fas fa-comments"></i>
                        <span>Central de Mensajería</span>
                        <div class="menu-tooltip">Central de Mensajería</div>
                    </div>
                </li>

                <!-- Solicitudes y Cotizaciones -->
                <li class="menu-item">
                    <div class="menu-header" onclick="toggleSubmenu(this)">
                        <i class="fas fa-file-alt"></i>
                        <span>Cotización y Compra</span>
                        <i class="fas fa-chevron-right arrow"></i>
                        <div class="menu-tooltip">Cotización y Compra</div>
                    </div>
                    <div class="submenu">
                        <a href="cliente_solicitud_pedido/cliente_listado_solicitudes.html" class="submenu-item">
                            <span class="full-text">Solicitudes de Pedido</span>
                            <span class="siglas">SP</span>
                            <div class="sigla-tooltip">Solicitudes de Pedido</div>
                        </a>
                        <a href="cliente_cotizaciones/cliente_listado_cotizaciones.html" class="submenu-item">
                            <span class="full-text">Cotizaciones</span>
                            <span class="siglas">CO</span>
                            <div class="sigla-tooltip">Cotizaciones</div>
                        </a>
                        <a href="cliente_orden_compra/cliente_listado_ordenes_compra.html" class="submenu-item">
                            <span class="full-text">Órdenes de Compra</span>
                            <span class="siglas">OC</span>
                            <div class="sigla-tooltip">Órdenes de Compra</div>
                        </a>
                    </div>
                </li>

                <!-- Control de Entregas -->
                <li class="menu-item">
                    <div class="menu-header" onclick="toggleSubmenu(this)">
                        <i class="fas fa-truck"></i>
                        <span>Control de Entregas</span>
                        <i class="fas fa-chevron-right arrow"></i>
                        <div class="menu-tooltip">Control de Entregas</div>
                    </div>
                    <div class="submenu">
                        <a href="cliente_control_entrega/cliente_listado_control_entregas.html" class="submenu-item">
                            <span class="full-text">Control Entrega por OC</span>
                            <span class="siglas">CEO</span>
                            <div class="sigla-tooltip">Control Entrega por OC</div>
                        </a>

                        <a href="cliente_modificaciones/cliente_listado_modificaciones.html" class="submenu-item">
                            <span class="full-text">Modificaciones OC</span>
                            <span class="siglas">MOC</span>
                            <div class="sigla-tooltip">Modificaciones OC</div>
                        </a>

                        <a href="cliente_control_recepcion/cliente_listado_despachos.html" class="submenu-item">
                            <span class="full-text">Control Recepción</span>
                            <span class="siglas">CRE</span>
                            <div class="sigla-tooltip">Control Recepción</div>
                        </a>

                        <a href="cliente_incidentes/cliente_listado_incidentes.html" class="submenu-item">
                            <span class="full-text">Incidentes de Entrega</span>
                            <span class="siglas">IEN</span>
                            <div class="sigla-tooltip">Incidentes de Entrega</div>
                        </a>                        
                    </div>
                </li>
                
                <!-- Pagos -->
                <li class="menu-item">
                    <div class="menu-header" onclick="toggleSubmenu(this)">
                        <i class="fas fa-file-invoice-dollar"></i>
                        <span>Pagos</span>
                        <i class="fas fa-chevron-right arrow"></i>
                        <div class="menu-tooltip">Pagos</div>
                    </div>
                    <div class="submenu">
                        <a href="cliente_pagos/cliente_listado_pagos.html" class="submenu-item">
                            <span class="full-text">Estado de Pagos</span>
                            <span class="siglas">EP</span>
                            <div class="sigla-tooltip">Estado de Pagos</div>
                        </a>                          
                    </div>
                </li>


                <!-- Control Total de Obras -->
                <li class="menu-item">
                    <div class="menu-header" onclick="toggleSubmenu(this)">
                        <i class="fas fa-hard-hat"></i>
                        <span>Control Total de Obras</span>
                        <i class="fas fa-chevron-right arrow"></i>
                        <div class="menu-tooltip">Control Total de Obras</div>
                    </div>
                    <div class="submenu">
                        <a href="cliente_control_obra/cliente_listado_obras_control.html" class="submenu-item">
                            <span class="full-text">Listado de Obras</span>
                            <span class="siglas">LO</span>
                            <div class="sigla-tooltip">Listado de Obras</div>
                        </a>
                    </div>
                </li>

                <!-- Configuración -->
                <li class="menu-item">
                    <div class="menu-header" onclick="toggleSubmenu(this)">
                        <i class="fas fa-cog"></i>
                        <span>Configuración</span>
                        <i class="fas fa-chevron-right arrow"></i>
                        <div class="menu-tooltip">Configuración</div>
                    </div>
                    <div class="submenu">
                        <a href="cliente_configuracion/cliente_listado_obras.html" class="submenu-item">
                            <span class="full-text">Administración de Obras / Proyectos</span>
                            <span class="siglas">AOP</span>
                            <div class="sigla-tooltip">Administración de Obras / Proyectos</div>
                        </a>
                        <a href="cliente_configuracion/cliente_listado_usuarios.html" class="submenu-item">
                            <span class="full-text">Administración de Usuarios</span>
                            <span class="siglas">AU</span>
                            <div class="sigla-tooltip">Administración de Usuarios</div>
                        </a>
                    </div>
                </li>
            </ul>
        </nav>

        <!-- Toggle Button (fuera del sidebar) -->
        <div class="sidebar-toggle" onclick="toggleSidebar()">
            <i class="fas fa-chevron-left"></i>
        </div>

        <main class="content">
            <div class="breadcrumb">
                <div class="breadcrumb-item"><a href="#">Inicio</a></div>
                <div class="breadcrumb-item active">Dashboard</div>
            </div>

            <h1 class="page-title">Centro de Control de Operaciones</h1>

            <!-- Welcome Section -->
            <div class="welcome-section">
                <div class="welcome-content">
                    <div class="welcome-text">
                        <h2>¡Bienvenido, Empresa Demo S.A.!</h2>
                        <p>Gestione sus operaciones de compra y seguimiento de entregas de manera eficiente</p>
                    </div>
                    <div class="welcome-actions">
                        <a href="cliente_solicitud_pedido/cliente_nueva_solicitud.html" class="welcome-button">
                            <i class="fas fa-plus-circle"></i>
                            Nueva Solicitud de Pedido
                        </a>
                        <a href="cliente_cotizaciones/cliente_listado_cotizaciones.html" class="welcome-button">
                            <i class="fas fa-chart-line"></i>
                            Ver Cuadros Comparativos
                        </a>
                    </div>
                </div>
            </div>

            <!-- Process Flow Status -->
            <div class="process-flow">
                <!-- Primera Parte: Cotización -->
                <div class="process-card">
                    <div class="process-card-header">
                        <h3 class="process-title">Proceso de Cotización</h3>
                        <div class="process-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                    </div>
                    <div class="process-stats">
                        <div class="stat-item" onclick="window.location.href='cliente_solicitud_pedido/cliente_listado_solicitudes.html?filter=pendiente'">
                            <div class="stat-label">Solicitudes En Creación</div>
                            <div class="stat-value">12</div>
                        </div>
                        <div class="stat-item" onclick="window.location.href='cliente_solicitud_pedido/cliente_listado_solicitudes.html?filter=en-cotizacion'">
                            <div class="stat-label">En Cotización en SSL</div>
                            <div class="stat-value">8</div>
                        </div>
                        <div class="stat-item alert" onclick="window.location.href='cliente_cotizaciones/cliente_listado_cotizaciones.html?filter=pendiente-revision'">
                            <div class="stat-label">Cuadros por Revisar</div>
                            <div class="stat-value">5</div>
                        </div>
                        <div class="stat-item success" onclick="window.location.href='cliente_cotizaciones/cliente_listado_cotizaciones.html?filter=aprobados'">
                            <div class="stat-label">Listos para OC</div>
                            <div class="stat-value">3</div>
                        </div>
                    </div>
                </div>

                <!-- Segunda Parte: Órdenes de Compra -->
                <div class="process-card">
                    <div class="process-card-header">
                        <h3 class="process-title">Órdenes de Compra</h3>
                        <div class="process-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                    </div>
                    <div class="process-stats">
                        <div class="stat-item" onclick="window.location.href='cliente_orden_compra/cliente_listado_ordenes_compra.html?filter=por-confirmar'">
                            <div class="stat-label">Por Confirmar</div>
                            <div class="stat-value">4</div>
                        </div>
                        <div class="stat-item success" onclick="window.location.href='cliente_orden_compra/cliente_listado_ordenes_compra.html?filter=activas'">
                            <div class="stat-label">OC Activas</div>
                            <div class="stat-value">18</div>
                        </div>
                        <div class="stat-item alert" onclick="window.location.href='cliente_control_entrega/cliente_listado_control_entregas.html?filter=proximas'">
                            <div class="stat-label">Entregas Próximas</div>
                            <div class="stat-value">7</div>
                        </div>
                        <div class="stat-item" onclick="window.location.href='cliente_control_entrega/cliente_listado_control_entregas.html?filter=en-transito'">
                            <div class="stat-label">En Tránsito</div>
                            <div class="stat-value">9</div>
                        </div>
                    </div>
                </div>

                <!-- Tercera Parte: Pagos -->
                <div class="process-card">
                    <div class="process-card-header">
                        <h3 class="process-title">Estado de Pagos</h3>
                        <div class="process-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                    </div>
                    <div class="process-stats">
                        <div class="stat-item alert" onclick="window.location.href='cliente_pagos/cliente_listado_pagos.html?filter=por-vencer'">
                            <div class="stat-label">Por Vencer (7 días)</div>
                            <div class="stat-value">3</div>
                        </div>
                        <div class="stat-item" onclick="window.location.href='cliente_pagos/cliente_listado_pagos.html?filter=pendientes'">
                            <div class="stat-label">Facturas Pendientes</div>
                            <div class="stat-value">8</div>
                        </div>
                        <div class="stat-item" onclick="window.location.href='cliente_pagos/cliente_listado_pagos.html?filter=por-confirmar'">
                            <div class="stat-label">Pagos por Confirmar</div>
                            <div class="stat-value">2</div>
                        </div>
                        <div class="stat-item success" onclick="window.location.href='cliente_pagos/cliente_listado_pagos.html?filter=pagados-mes'">
                            <div class="stat-label">Pagados este Mes</div>
                            <div class="stat-value">15</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Metrics Dashboard -->
            <div class="dashboard-grid">
                <div class="dashboard-card" onclick="window.location.href='cliente_solicitud_pedido/cliente_listado_solicitudes.html'">
                    <div class="card-icon blue">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="card-title">Total Solicitudes</div>
                    <div class="card-value">156</div>
                    <div class="card-description">Mes actual</div>
                    <div class="card-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>12% vs mes anterior</span>
                    </div>
                </div>

                <div class="dashboard-card" onclick="window.location.href='cliente_orden_compra/cliente_listado_ordenes_compra.html'">
                    <div class="card-icon green">
                        <i class="fas fa-file-contract"></i>
                    </div>
                    <div class="card-title">Volumen de Compras</div>
                    <div class="card-value">$2.4M</div>
                    <div class="card-description">USD este mes</div>
                    <div class="card-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>8% crecimiento</span>
                    </div>
                </div>

                <div class="dashboard-card" onclick="window.location.href='cliente_control_entrega/cliente_listado_control_entregas.html'">
                    <div class="card-icon orange">
                        <i class="fas fa-truck"></i>
                    </div>
                    <div class="card-title">Entregas Completadas</div>
                    <div class="card-value">89%</div>
                    <div class="card-description">Cumplimiento del mes</div>
                    <div class="card-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>5% mejora</span>
                    </div>
                </div>

                <div class="dashboard-card" onclick="window.location.href='cliente_configuracion/cliente_listado_obras.html'">
                    <div class="card-icon purple">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="card-title">Obras Activas</div>
                    <div class="card-value">12</div>
                    <div class="card-description">Con operaciones</div>
                    <div class="card-trend">
                        <i class="fas fa-plus"></i>
                        <span>2 nuevas este mes</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="section-header">
                    <h3 class="section-title">Acciones Rápidas</h3>
                </div>
                <div class="quick-actions-grid">
                    <a href="cliente_solicitud_pedido/cliente_nueva_solicitud.html" class="quick-action-item">
                        <i class="fas fa-plus-circle quick-action-icon"></i>
                        <span class="quick-action-text">Nueva Solicitud</span>
                    </a>
                    <a href="cliente_cotizaciones/cliente_listado_cotizaciones.html?filter=pendiente-revision" class="quick-action-item">
                        <i class="fas fa-check-circle quick-action-icon"></i>
                        <span class="quick-action-text">Aprobar Cuadros</span>
                    </a>
                    <a href="cliente_orden_compra/cliente_nueva_orden_compra.html" class="quick-action-item">
                        <i class="fas fa-file-upload quick-action-icon"></i>
                        <span class="quick-action-text">Cargar OC</span>
                    </a>
                    <a href="cliente_pagos/cliente_listado_pagos.html" class="quick-action-item">
                        <i class="fas fa-credit-card quick-action-icon"></i>
                        <span class="quick-action-text">Registrar Pago</span>
                    </a>
                </div>
            </div>

            <!-- Two Column Layout: Activity & Alerts -->
            <div class="two-column-layout">
                <!-- Recent Activity -->
                <div class="activity-section">
                    <div class="section-header">
                        <h3 class="section-title">Actividad Reciente</h3>
                        <a href="#" class="view-all-link">Ver todo</a>
                    </div>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-dot success"></div>
                            <div class="timeline-content">
                                <div class="timeline-text">
                                    <div class="timeline-title">Entrega completada - LPE-2025-0089</div>
                                    <div class="timeline-description">Obra Torre Pacífico - 250 ton de acero</div>
                                </div>
                                <div class="timeline-time">Hace 2 horas</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot info"></div>
                            <div class="timeline-content">
                                <div class="timeline-text">
                                    <div class="timeline-title">Nuevo cuadro comparativo disponible</div>
                                    <div class="timeline-description">SOL-2025-0234 - 15 proveedores cotizados</div>
                                </div>
                                <div class="timeline-time">Hace 4 horas</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot warning"></div>
                            <div class="timeline-content">
                                <div class="timeline-text">
                                    <div class="timeline-title">OC aprobada por SSL</div>
                                    <div class="timeline-description">OC-2025-0156 - Inicio de proceso logístico</div>
                                </div>
                                <div class="timeline-time">Ayer</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot success"></div>
                            <div class="timeline-content">
                                <div class="timeline-text">
                                    <div class="timeline-title">Pago confirmado</div>
                                    <div class="timeline-description">Factura F-2025-0078 - $125,000 USD</div>
                                </div>
                                <div class="timeline-time">Ayer</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Alerts & Notifications -->
                <div class="alerts-section">
                    <div class="section-header">
                        <h3 class="section-title">Alertas y Notificaciones</h3>
                        <a href="#" class="view-all-link">Ver todo</a>
                    </div>
                    <div class="alerts-list">
                        <div class="alert-item warning" onclick="window.location.href='cliente_pagos/cliente_listado_pagos.html?filter=por-vencer'">
                            <i class="fas fa-exclamation-triangle alert-icon warning"></i>
                            <div class="alert-content">
                                <div class="alert-title">3 facturas próximas a vencer</div>
                                <div class="alert-description">Vencimiento en los próximos 7 días</div>
                            </div>
                        </div>
                        <div class="alert-item info" onclick="window.location.href='cliente_cotizaciones/cliente_listado_cotizaciones.html?filter=pendiente-revision'">
                            <i class="fas fa-info-circle alert-icon info"></i>
                            <div class="alert-content">
                                <div class="alert-title">5 cuadros comparativos pendientes</div>
                                <div class="alert-description">Requieren revisión y aprobación</div>
                            </div>
                        </div>
                        <div class="alert-item error" onclick="window.location.href='cliente_control_recepcion/cliente_listado_despachos.html?filter=con-incidencias'">
                            <i class="fas fa-times-circle alert-icon error"></i>
                            <div class="alert-content">
                                <div class="alert-title">Incidencia en entrega</div>
                                <div class="alert-description">Despacho D-2025-0145 - Faltante detectado</div>
                            </div>
                        </div>
                        <div class="alert-item warning" onclick="window.location.href='cliente_orden_compra/cliente_listado_ordenes_compra.html?filter=por-confirmar'">
                            <i class="fas fa-clock alert-icon warning"></i>
                            <div class="alert-content">
                                <div class="alert-title">4 OC esperando confirmación</div>
                                <div class="alert-description">Pendientes de aprobación SSL</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/cliente_dashboard.js"></script>

</body>
</html>